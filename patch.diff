From 5d55d25a7fea976b5f563ceaccb1fa4d87291859 Mon Sep 17 00:00:00 2001
From: pmaunz <peter@maunz.name>
Date: Sat, 8 Feb 2014 15:20:44 -0700
Subject: [PATCH] fix the progress bar issue

---
 ScanExperiment.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/ScanExperiment.py b/ScanExperiment.py
index dbfc4b3..d8ecbc1 100644
--- a/ScanExperiment.py
+++ b/ScanExperiment.py
@@ -376,10 +376,10 @@ class ScanExperiment(ScanExperimentForm, MainWindowWidget.MainWindowWidget):
     def startScan(self):
         logger = logging.getLogger(__name__)
         self.startTime = time.time()
-        self.progressUi.setRunning( max(len(self.scan.list),1) ) 
         PulseProgramBinary = self.pulseProgramUi.getPulseProgramBinary() # also overwrites the current variable values            
         self.generator = GeneratorList[self.scan.scanMode](self.scan)
         (mycode, data) = self.generator.prepare(self.pulseProgramUi)
+        self.progressUi.setRunning( max(len(self.scan.list),1) ) 
         if data:
             self.pulserHardware.ppWriteRamWordlist(data,0)
         self.pulserHardware.ppFlushData()
-- 
1.8.0.msysgit.0

